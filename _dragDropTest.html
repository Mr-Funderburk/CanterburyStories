<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <link rel="stylesheet" href="css/canterbury_stories.css">
</head>
<body>
    
    <div class="uploadBox">
        <input class="uploadFile" type="file" name="upStory" id="upStory">
        <label for="upStory">
            <svg viewBox="0 -1.5 35 35" xmlns="http://www.w3.org/2000/svg"><path d="M29.426 15.535c0 0 0.649-8.743-7.361-9.74-6.865-0.701-8.955 5.679-8.955 5.679s-2.067-1.988-4.872-0.364c-2.511 1.55-2.067 4.388-2.067 4.388s-5.576 1.084-5.576 6.768c0.124 5.677 6.054 5.734 6.054 5.734h9.351v-6h-3l5-5 5 5h-3v6h8.467c0 0 5.52 0.006 6.295-5.395 0.369-5.906-5.336-7.070-5.336-7.070z"></path></svg>
            <span class="forSmall">Tap here to upload your story.</span>
            <span class="forLarge"><strong>Choose an audio file</strong><span class="supportsDrag hide"> or drag it here</span>.</span>
        </label>
    </div>

    
    <script type="text/javascript" src="https://code.jquery.com/jquery-latest.js"></script>
    <script>

        $(document).ready(function(){
            var droppedFiles = false;
            // feature detection
            var canDrag = function(){
                var div = document.createElement("div");
                return(("draggable" in div) || ("ondragstart" in div && "ondrop" in div)) &&
                    "FormData" in window && "FileReader" in window;
            }();

            if (canDrag) {
                $(".uploadBox .supportsDrag").show();
                $(".uploadBox")
                    .on("drag dragstart dragend dragover dragenter dragleave drop", function(e){
                        e.preventDefault();
                        e.stopPropagation();
                    })
                    .on("dragover dragenter", function(){
                        $(".uploadBox label").addClass("drag");
                    })
                    .on("dragleave dragend drop", function(){
                        $(".uploadBox label").removeClass("drag");
                    })
                    .on("drop", function(e){
                        droppedFiles = e.originalEvent.dataTransfer.files[0];
                        console.log(droppedFiles);
                    });
            }




        });

    </script>

</body>
</html>